:page-module-title: Spring Boot Transaction

include::ROOT:partial$header.adoc[]

=== Overview

.Structure of source
[source]
----
springboot-transaction
+- database
  +- oracle
    +- 1_user_script.sql
    +- 2_table_script.sql
  +- postgres
    +- 1_user_script.sql
+- springboot-database-entity-jpa
+- springboot-database-entity-multiple-datasource
\- springboot-transaction-rabbitmq-datasource
----

=== What You Need

All demo in module `*{page-module-title}*` use Oracle database and Postgres. So you can install via https://www.docker.com/products/docker-desktop/[Docker]

Open CMD (or PowerShell) and paste the following:

.Oracle Database Docker
[,console]
----
docker run -p 1521:1521 -e ORACLE_PWD=ngocnhan -d --name oracle-db container-registry.oracle.com/database/free:latest
----

.Postgres Database Docker
[,console]
----
docker run -p 5432:5432 -e POSTGRES_PASSWORD=ngocnhan -d --name postgres postgres -c max_prepared_transactions=100
----

.PgAdmin Database Docker
[,console]
----
docker run -p 5050:80 -e PGADMIN_DEFAULT_EMAIL=ngocnhan@mail.com -e PGADMIN_DEFAULT_PASSWORD=ngocnhan -d --name pgadmin4 dpage/pgadmin4
----

.Run script in folder `database/oracle` in following order
[NOTE]
===============================
* `1_user_script.sql`
* `2_table_script.sql`
===============================

.Run script in folder `database/postgres` in following order
[NOTE]
===============================
* `1_user_script.sql`
===============================

=== Reference Guide
. https://docs.docker.com/[Docker]
. https://container-registry.oracle.com/[Oracle Container Registry]
. https://hub.docker.com/_/postgres[PostgreSQL Docker]
. https://dzone.com/articles/most-common-spring-transactional-mistakes[Spring `@Transactional` Mistakes Everyone Makes]